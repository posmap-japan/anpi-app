# 見守りアプリ開発要件書 (requirements.md)

## 1. アプリ概要
「見守られる人」が一定時間スマートフォンを操作しない場合、「見守る人」に通知が届くモバイルアプリ。
iPhone (iOS) と Pixel (Android) のクロスプラットフォーム対応（Flutter使用）。

## 2. ユーザーロール
* **見守る人 (Watcher):** 監視設定を提案し、通知を受け取る。
* **見守られる人 (Monitored):** 自分のスマホ利用状況（非操作時間）を共有し、設定を承諾する。

## 3. 主要機能 (Core Features)
* **ペアリングと同意:**
  * 相互の同意（招待→承諾）がないと機能しない。
  * 見守る側が「非操作時間（例: 3時間）」を設定・提案し、見守られる側がそれを「承諾」するフロー。
* **監視ロジック:**
  * スマホの最終操作時刻を取得。
  * 設定された時間を超えて操作がない場合、アラート状態となる。
* **通知:**
  * 警告: 設定時間の70%経過で見守られる人に通知。
  * 緊急: 設定時間超過で見守る人にプッシュ通知。
* **多言語対応:**
  * 日本語、英語、中国語（簡体字）。端末設定に依存。

## 4. UI/UX要件
* **デザイン:**
  * シンプルでモダンなUI。
  * **円形ゲージ (Circular Gauge):** 非操作時間の経過を視覚的に表示（添付画像参照）。
* **画面構成:**
  * ロール選択画面
  * ホーム画面（ゲージ表示）
  * 設定画面（時間の提案・承諾）

## 5. 技術スタック
* Framework: Flutter
* State Management: Riverpod
* Navigation: GoRouter
* Local Storage: SharedPreferences (簡易設定保存用)
* Native Bridge: MethodChannel (UsageStats/ScreenTime API連携用)









